[{"title":"技术分析","url":"/2020/02/28/one/","content":"<p>在用Hexo搭建博客的过程中，参考了很多网上的教程，发现有的并不全，所以我这里基于之前参考的资料，再结合自己搭建过程中踩到的坑，尽力将其完整化，若有不足之处，还敬请谅解。</p>\n<span id=\"more\"></span>\n\n<h3 id=\"什么是Hexo\"><a href=\"#什么是Hexo\" class=\"headerlink\" title=\"什么是Hexo\"></a>什么是Hexo</h3><p>官方文档的概述：Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。 </p>\n<p>安装Hexo之前，确保Node.js和git已经成功安装，没安装也没关系，我这里会从头一步一步进行。</p>\n<h3 id=\"安装Node-js\"><a href=\"#安装Node-js\" class=\"headerlink\" title=\"安装Node.js\"></a>安装Node.js</h3><p>1、将centos更新至最新（可忽略）</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">yum update -y </span><br></pre></td></tr></table></figure>\n\n<p> 2、nodejs安装，我这里安装的版本为v12.16</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">wget https:&#x2F;&#x2F;nodejs.org&#x2F;dist&#x2F;v12.16.1&#x2F;node-v12.16.1-linux-x64.tar.xz</span><br></pre></td></tr></table></figure>\n\n<p> 3、 解压源码包</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">xz -d ***.tar.xz</span><br><span class=\"line\">tar -xvf ***.tar</span><br><span class=\"line\">或者</span><br><span class=\"line\">tar xvJf ***.tar.xz</span><br></pre></td></tr></table></figure>\n\n<p> 4、修改全局变量</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">vim &#x2F;etc&#x2F;profile</span><br><span class=\"line\">在文件中加入下面这一行代码，注意&#x2F;home&#x2F;node&#x2F;bin这边是以自己安装的路径为准，这里我是安装在home目录下</span><br><span class=\"line\">export PATH&#x3D;$PATH:&#x2F;home&#x2F;node&#x2F;bin</span><br></pre></td></tr></table></figure>\n\n<p> 5、重新加载环境变量</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">source &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>\n\n<p> 6、测试，如果获取到版本信息，那恭喜你Node.js就安装成功了</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">node -v</span><br><span class=\"line\">npm -v</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"安装Git\"><a href=\"#安装Git\" class=\"headerlink\" title=\"安装Git\"></a>安装Git</h3><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">yum install git-core</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"安装Hexo\"><a href=\"#安装Hexo\" class=\"headerlink\" title=\"安装Hexo\"></a>安装Hexo</h3><p> 1、执行下列命令</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>\n\n<p>2、安装 Hexo 完成后，执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo init &lt;folder&gt;</span><br></pre></td></tr></table></figure>\n\n<p>如果遇到错误</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">cd &lt;folder&gt;</span><br><span class=\"line\">npm install</span><br><span class=\"line\">hexo init（不过这里会提示你文件夹不是空的，所以你需要把原来的文件夹删除，重新创建）</span><br></pre></td></tr></table></figure>\n\n<p>3、启动Hexo，如果成功访问，那恭喜你，到目前为止没有问题</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo server</span><br><span class=\"line\">(它这里默认4000端口，你可以查看一下端口使用情况，如果被占用了，可以通过hexo s -p 其他端口解决问题)</span><br></pre></td></tr></table></figure>\n\n<p>如果还有问题，看看防火墙关没关，有关防火墙参考命令如下</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">firewall-cmd --state  #查看防火墙状态</span><br><span class=\"line\">systemctl stop firewalld.service  #停止firewall</span><br><span class=\"line\">systemctl disable firewalld.service  #禁止firewall开机启动</span><br><span class=\"line\">firewall-cmd --zone&#x3D;public --add-port&#x3D;80&#x2F;tcp --permanent  #开启80端口</span><br><span class=\"line\">firewall-cmd --list-port  #查询有哪些端口是开启的</span><br><span class=\"line\">firewall-cmd --reload  #重启防火墙</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Hexo-themes更改\"><a href=\"#Hexo-themes更改\" class=\"headerlink\" title=\"Hexo themes更改\"></a>Hexo themes更改</h3><p>1、是不是觉得现在看到的界面很丑呢，别说，我第一感觉也是这样，但也别急，我们这就来换个心情，我这里看了一位大牛的主题，感觉还不错，这就整上</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">cd themes</span><br><span class=\"line\">git init</span><br><span class=\"line\">git clone https:&#x2F;&#x2F;github.com&#x2F;litten&#x2F;hexo-theme-yilia.git</span><br></pre></td></tr></table></figure>\n\n<p>2、下载完毕之后，需要进入hexo的安装目录，也就是你刚刚新建的文件夹，修改_config.yml中的theme配置，修改完成之后通过刚刚的方式访问，就会觉得自己的博客焕然一新</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">cd 安装的根目录</span><br><span class=\"line\">vim _config.yml</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"安装Nginx\"><a href=\"#安装Nginx\" class=\"headerlink\" title=\"安装Nginx\"></a>安装Nginx</h3><p>1、yum 安装 nginx 非常简单，就输入一条命令即可，当然也可以选择源码安装</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo yum -y install nginx   # 安装 nginx</span><br><span class=\"line\">sudo yum remove nginx  # 卸载 nginx</span><br></pre></td></tr></table></figure>\n\n<p>2、设置Nginx服务，执行下面两条命令</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo systemctl enable nginx # 设置开机启动 </span><br><span class=\"line\">sudo service nginx start # 启动 nginx 服务</span><br></pre></td></tr></table></figure>\n\n<p>其他参考命令，根据需要使用</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo service nginx stop # 停止 nginx 服务</span><br><span class=\"line\">sudo service nginx restart # 重启 nginx 服务</span><br><span class=\"line\">sudo service nginx reload # 重新加载配置，一般是在修改过 nginx 配置文件时使用</span><br><span class=\"line\">ps -ef | grep nginx # 查看服务进程</span><br><span class=\"line\">systemctl status nginx.service #查看nginx状态</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"配置Nginx\"><a href=\"#配置Nginx\" class=\"headerlink\" title=\"配置Nginx\"></a>配置Nginx</h3><p>配置之前，先到hexo的安装根目录，执行下面命令，生成public静态文件，下面配置Nginx会用到，不瞒大家，这就是我之前踩的一个坑</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>现在开始配置Nginx，执行下面命令</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">vim &#x2F;etc&#x2F;nginx&#x2F;nginx.conf</span><br></pre></td></tr></table></figure>\n\n<p>找到下面这一段，进行更改，root一定要指向刚刚生成的public文件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">      listen       80 default_server;</span><br><span class=\"line\">      listen       [::]:80 default_server;</span><br><span class=\"line\">      server_name  www.xxx.com; # 填写个人域名</span><br><span class=\"line\">      root         &#x2F;data&#x2F;www&#x2F;hexo&#x2F;public;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n\n<p>重新加载配置文件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo service nginx reload</span><br></pre></td></tr></table></figure>\n\n<p>先后执行下面两条命令</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo clean</span><br><span class=\"line\">hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>到目前为止，一个博客就基本搭建完成了，用户可以随时随地的访问了，至于具体的博客里面的一些设置，可以参考配套的说明文档进行设置及更改。</p>\n<p>有关个人博客搭建到这里就结束了，白~~</p>\n","categories":["centos7","Hexo","Nginx"],"tags":["web"]}]